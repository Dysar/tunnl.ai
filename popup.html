<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dam.AI - The smartest distraction blocker of all time</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-content">
                <div class="branding">
                    <h1>Dam.AI</h1>
                    <p>The smartest distraction<br>blocker of all time</p>
                </div>
                <div class="mascot">
                    <img src="Instagram Post Design (3).png" alt="Dam.AI Logo" class="logo-icon">
                </div>
            </div>
        </div>

        <!-- API Key Setup -->
        <div id="api-setup" class="section hidden">
            <h2>üîë Setup Required</h2>
            <p>Enter your OpenAI API key to get started:</p>
            <div class="input-group">
                <input type="password" id="api-key" placeholder="sk-...">
                <button id="save-api-key" class="btn btn-primary">Save</button>
            </div>
            <p class="help-text">
                <a href="https://platform.openai.com/api-keys" target="_blank">Get your API key</a>
            </p>
        </div>

        <!-- Main Interface -->
        <div id="main-interface" class="section">
            <!-- Stats Cards -->
            <div class="stats-cards">
                <div class="stat-card">
                    <div class="stat-value" id="urls-analyzed">317</div>
                    <div class="stat-label">URLs analysed today</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="focus-score">97%</div>
                    <div class="stat-label">Focus Score</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="urls-blocked">16</div>
                    <div class="stat-label">URLs blocked today</div>
                </div>
            </div>

            <!-- Task Switching Notice -->
            <div class="switching-notice">
                <span class="warning-icon">‚ö†Ô∏è</span>
                <span class="notice-text">Switching tasks is locked for 04:51 min</span>
            </div>

            <!-- Task List -->
            <div class="task-list-section">
                <div id="task-list" class="task-list">
                    <button id="add-task" class="btn-add">+</button>
                    <div id="task-items" class="task-items">
                        <!-- Tasks will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Completed Tasks -->
            <div class="completed-section">
                <h3>Completed</h3>
                <div id="completed-tasks" class="completed-tasks">
                    <!-- Completed tasks will be populated here -->
                </div>
            </div>
        </div>

        <!-- Task Detail View (hidden by default) -->
        <div id="task-detail" class="task-detail hidden">
            <div class="task-detail-header">
                <button id="back-btn" class="back-btn">‚Üê</button>
            </div>
            
            <div class="task-detail-content">
                <div class="task-title-display">
                    <h2 id="detail-task-title">Research AI companies</h2>
                    <p id="detail-task-description">I have to research companies of artificial intelligence in the german sector</p>
                </div>

                <div class="timer-section">
                    <h3>How long do you want to lock?</h3>
                    <div class="timer-options">
                        <button class="timer-btn" data-minutes="15">15 mins</button>
                        <button class="timer-btn" data-minutes="30">30 mins</button>
                        <div class="custom-timer">
                            <input type="number" id="custom-minutes" placeholder="60" min="1" max="480">
                            <span>mins</span>
                        </div>
                    </div>
                </div>

                <div class="task-actions">
                    <button id="delete-task" class="delete-btn">üóëÔ∏è Delete</button>
                </div>
            </div>
        </div>

        <!-- Settings -->
        <div class="settings-section">
            <button id="open-options" class="btn btn-link">‚öôÔ∏è Settings</button>
        </div>
    </div>

    <!-- Add Task View (hidden by default) -->
    <div id="add-task-view" class="task-detail hidden">
        <div class="task-detail-header">
            <button id="add-back-btn" class="back-btn">‚Üê</button>
        </div>
        <div class="task-detail-content">
            <div class="task-title-display">
                <h2>Add a new task</h2>
                <p>Describe exactly what you will focus on.</p>
            </div>
            <div class="add-task-editor">
                <div id="add-task-validation-message" class="validation-message-inline hidden">
                    <!-- Validation messages will appear here -->
                </div>
                <textarea id="new-task-text" placeholder="Type your task..." maxlength="100"></textarea>
                <div class="char-counter">
                    <span id="char-count">0</span>/100
                </div>
            </div>
            <div class="timer-section">
                <h3>How long do you want to lock?</h3>
                <div class="timer-options">
                    <button class="timer-btn" data-minutes="15">15 mins</button>
                    <button class="timer-btn" data-minutes="30">30 mins</button>
                    <div class="custom-timer">
                        <input type="number" id="custom-minutes" placeholder="60" min="1" max="480">
                        <span>mins</span>
                    </div>
                </div>
            </div>
            <div class="task-actions">
                <button id="save-new-task" class="btn-primary">Save Task</button>
            </div>
        </div>
    </div>

    <script src="popup.js"></script>
</body>
</html>